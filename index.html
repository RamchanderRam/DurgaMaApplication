@{
    ViewData["Title"] = "Navarathri Dussehra Festival";
}

<div class="container my-4">
    <head>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <style>
            body {
                background: linear-gradient(to right, #ffebcc, #ffe6e6);
            }

            .banner-section {
                background-color: #ff6600;
                padding: 30px;
                border-radius: 10px;
                background-image: url('~/images/dussehra_bg.png');
                background-size: cover;
                color: white;
            }

            .festival-title {
                font-family: 'Brush Script MT', cursive;
                font-size: 2.5rem;
            }

            .icon-festive {
                color: gold;
            }

            h1, h2, p {
                font-family: 'Montserrat', sans-serif;
            }

            .photo-gallery-section h2 {
                color: #e65c00;
            }

            .card {
                box-shadow: 0px 4px 8px rgba(0,0,0,0.2);
                border-radius: 10px;
            }

            .gallery {
                display: flex;
                flex-wrap: wrap;
            }

            .gallery-item {
                margin: 10px;
            }

            .img-thumbnail {
                max-width: 200px;
                max-height: 200px;
            }
        </style>
    </head>

    <!-- Banner Section -->
    <div class="banner-section text-center mb-5">
        <img src="~/images/40w9f7in.png" alt="Navarathri Banner" class="img-fluid rounded" style="max-height: 250px;" />
        <h1 class="festival-title mt-3">Shubh Navarathri & Dussehra Celebrations</h1>
        <p class="lead">Celebrate the festival of victory with devotion, rituals, and blessings. Upload your photos and be part of the celebration!</p>
    </div>

    <!-- Icons Section -->
    <div class="row text-center mb-5">
        <div class="col-md-4">
            <i class="fas fa-praying-hands fa-4x mb-3 icon-festive"></i>
            <h3>Offer Prayers</h3>
            <p>Submit your prayer and be blessed by the divine during Navarathri.</p>
        </div>
        <div class="col-md-4">
            <i class="fas fa-fire fa-4x mb-3 icon-festive"></i>
            <h3>Explore Rituals</h3>
            <p>Learn about the traditional rituals and customs during the Dussehra festival.</p>
        </div>
        <div class="col-md-4">
            <i class="fas fa-gift fa-4x mb-3 icon-festive"></i>
            <h3>Share Blessings</h3>
            <p>Share your Navarathri experience with family and friends.</p>
        </div>
    </div>

    <!-- Photo Upload Section (Visible to Admin & CommitteeMember) -->
    @if (User.IsInRole("Admin") || User.IsInRole("CommitteeMember"))
    {
        <div class="photo-upload-section mb-5">
            <h2>Upload a Photo</h2>
            <form asp-controller="Admin" asp-action="UploadPhoto" enctype="multipart/form-data" method="post" class="mt-3">
                <div class="form-group">
                    <label for="photo">Choose a photo to upload</label>
                    <input type="file" class="form-control" id="photo" name="file" required />
                </div>
                <button type="submit" class="btn btn-warning">Upload Photo</button>
            </form>

            @if (TempData["Message"] != null)
            {
                <div class="alert alert-success mt-2">@TempData["Message"]</div>
            }
            @if (TempData["Error"] != null)
            {
                <div class="alert alert-danger mt-2">@TempData["Error"]</div>
            }
        </div>
    }

    <!-- Photo Gallery Section (Visible to All) -->
    <div class="photo-gallery-section">
        <h2>Festival Photo Gallery</h2>
        <div class="gallery">
            @if (Model != null && Model.Count > 0)
            {
                @foreach (var image in Model)
                {
                    <div class="gallery-item">
                        <img src="~/uploads/@image" class="img-thumbnail" alt="Uploaded Image" />
                    </div>
                }
            }
            else
            {
                <p>No photos uploaded yet. Be the first to share your Navarathri moments!</p>
            }
        </div>
    </div>

    <!-- YouTube Live Section -->
    <div class="youtube-section text-center mb-5">
        <h2>Watch Live Dussehra Celebrations</h2>
        <p>Join us live from the temple and witness the rituals and celebrations.</p>
        <div class="embed-responsive embed-responsive-16by9">
            <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/live_stream?channel=YOUR_CHANNEL_ID" allowfullscreen></iframe>
        </div>
    </div>
</div>
